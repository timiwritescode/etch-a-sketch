<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Concert One|Cabin Sketch|Londrina Sketch">

    <script src="script.js" defer></script>
</head>
<body>
    <header>
        <h1>etch-a-<span>sketch</span></h1>
        
    </header>
    <main>
        <div class="main" id="thro">
            <div class="mobile-panel">
                <div class="panel-toggle-on">
                    <img src="pictures/R.jpeg" alt="tool box"></div>
                <div class="panel">
                        <div class="panel-toggle-off"><p>X</p></div>
                        <div class="settings">
                            <h2>Tools</h2>
    
                            
                            <h3>Choose Color</h3>
                            <div class="buttons">
                                <div class="utilities">
                                    <button id="default" class="btn-active">Default</button>
                                    <button id="rainbow">Rainbow</button>
                                    <button id="eraser">Eraser</button>
                                    <button id="grid-button">Show grid Lines</button>
                                </div>
                                <h3>Custom</h3>
                                <div class="custom-color-choice">
                                    <input type="color" id="color-wheel">
                                    <button id="custom">Choose color</button>
                                    <h3>Change color</h3>
                                    <input type="color" name="" id="background-color-selector" value="#ffffff">
                                    <button id="background-button">Change background</button>
                                </div>
                                
                                <div class="grid-size-container">
                                    <h3>Grid size</h3>
                                    <p id="grid-size-value">17 X 17</p>
                                    <input id="grid-size-input" 
                                        type="range"
                                        min="12"
                                        max="32"
                                        value="17">
                                </div>

                                <button id="download-button">download drawing</button>
                            </div>
                            
                        </div> 
                </div>
            </div>
            
            <div class="sketch-area-container">
                <div class="wrapper">
                    <div class="sketch-area" id="sketch-area"></div>
                </div>
                <footer>
                    <p>Made by <a href="">Oluwatimilehin</a></p>
                </footer>
            </div>
            
        </div>
        </main>
        
        <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.3.3/dist/html2canvas.min.js"></script>
        <script>
            // function to download the image 
            function downloadDivContent(divId, filename) {
                const element = document.getElementById(divId);
                html2canvas(element).then(function (canvas) {
                    let dataURL = canvas.toDataURL();
                    let link = document.createElement('a');
                    
                    link.href = dataURL;
                    link.download = filename;

                    link.click();
                })
            };

            let downloadBtn = document.getElementById('download-button');
            downloadBtn.addEventListener('click', () => {
                let drawing = document.querySelector('.sketch-area');
                downloadDivContent('sketch-area', 'prototype');
                });

        </script>
        
</body>
</html>